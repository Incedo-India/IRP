<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <style type="text/css">
      body
      {
        margin: 0px;
        margin-bottom: 80px;
        padding:0px;
        width:100%;
        height:100%;
        margin-left:auto;
        margin-right:auto;
      }

      input[type=text] , input[type=number], input[type=url] ,input[type=email] , input[type=date]
      {
        border: none;
        text-decoration: none;
        font-size: 16px;
        margin: 4px 2px;
        border-radius: 15px;
        size :50%;

        background-color:white;
      }
      select
      {
        border: none;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 15px;
      }
      option
      {
        border: none;
        text-align: center;
        text-decoration: none;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;

      }
      input[type=submit] {
        border: none;
        color: white;

        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 15px;
        background-color: #fd511c;

      }
      h1
      {
        color:black;
        text-align:center;
      }
      h3
      {
        font-size: 20px;
      }
      #title h2
      {
        text-align:center;
        color:white;
      }

      table.table1
      {
        border-collapse: collapse;
        width : 100%;
        color: #588c7e;
        font-family: monospace;
        font-size: 16px;
        text-align: left;
        margin-left: auto;
        margin-right: auto;
        table-layout : fixed;
      }
      table.table1 th
      {
        background-color: #f0f8ff;
        text-align: right;
        padding: 5px;
      }
      table.table1 td
      {
        background-color: #f0f8ff;
        padding: 5px;
        color:black;
      }


      button
      {
        border: none;
        color: white;
        text-align: center;

        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 15px;
        background-color: #fd511c;
      }
      .heading
      {
        border: none;
        color: white;
        width:50%;
        text-align: center;
        overflow: hidden;
        text-decoration: none;
        display: inline-block;
        font-size: 20px;
        margin: 10px 8px;
        border-radius: 15px;
        background-color: #008B8B;
      }
      /* .goback
      {

      } */

      ul
      {
        list-style-type: none;
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: #40423f;
        color: #b6b8b5;
      }

      li
      {
        float: left;
      }

      li a
      {
        display: block;
        color: white;
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
      }


      table.table2
      {
        border-collapse: collapse;
        color: #588c7e;
        font-family: monospace;
        font-size: 18px;
        text-align: left;
        width: 90%;
        /* margin: 20px 40px; */
        margin: 20px auto;
        border: 1px solid black;
      }


      table.table2 th
      {
        background-color: #588c7e;
        color: yellow;
        padding: 5px;
        border: 1px solid black;
      }
      table.table2 th.search_bar
      {
        background-color: white;
        color: black;
        padding: 5px;
        border: 1px solid black;
      }
      table.table2 td
      {
        padding: 5px;
        border: 1px solid black;
      }
      table.table2 tr:nth-child(even)
      {
        background-color: #f2f2f2;
        padding: 5px;
        border: 1px solid black;
      }
    </style>

  </head>

  <body>
    <header>
      <ul class = 'main'  style="background-color: black">
        <li><a href='{% url "home_page" %}'>Incedo Recruitment Portal</a></li>
        <li style="float:right"><a href="{% url 'logout' %}">Log out</a></li>
        <li style="float:right"><a href="{%url 'change_password_page'%}">Change Password</a></li>
        <li style="float:right"><a href="https://www.incedoinc.com/contact/">Contact</a></li>
        <li style="float:right"><a href="https://www.incedoinc.com/about/about-incedo/">About us</a></li>
      </ul>
    </header>

    <form action=""  method="post">{% csrf_token %}

      <center>
        <button class="home_button" type="submit" name="home_button" style="float:left"><i class="fa fa-home"></i> Home</button>
        <!-- <button type="submit" name="go_back" value="" style="float:right">Go Back</button> -->
        <button name="close" value="" style="float:right" onclick="window.close();">Close</button>

        <button class="heading">VIEW CANDIDATE DETAILS</button>
      </center>

    {% if error_msg %}
      <center><h2>{{error_msg}}</h2></center>
    {% else %}
      <table class="table1">

        <tr>
          <th><label text-align="left">First Name </label></th>
          <td>: <label >{{ candidate_obj.f_name|default:"" }}</label></td>
        </tr>

        <tr>
          <th><label >Middle Name </label></th>
          <!-- <td>: <label >{{ candidate_obj.m_name }}</label></td> -->
          <td>: <label >{{ candidate_obj.m_name|default:"" }}</label></td>
        </tr>

        <tr>
          <th><label >Last Name </label></th>
          <td>: <label >{{ candidate_obj.l_name|default:"" }}</label></td>
        </tr>

        <tr>
          <th><label >Registered By </label></th>
          <td>: <label >{{ candidate_obj.registered_by }}</label></td>
        </tr>

        <tr>
            <th><label >Email </label></th>
            <td>: <label >{{ candidate_obj.email }}</label></td>
        </tr>

        <tr>
            <th><label >Gender </label></th>
            <td><label >: {{ candidate_obj.gender|default:"" }}</label></td>
        </tr>

        <tr>
            <th><label >CGPA </label></th>
            <td>: <label >{{ candidate_obj.CGPA|default:"" }}</label></td>
        </tr>

        <tr>
            <th><label >College </label></th>
            <td>: <label >{{ candidate_obj.college_name|default:"" }}</label></td>
        </tr>

        <tr>
            <th><label >(Years.Months) Experience</label></th>
            <td>: <label >{{ candidate_obj.experience|default:"" }}</label></td>
        </tr>

        <tr>
            <th><label >Mobile </label></th>
            <td>: <label >{{ candidate_obj.mobile|default:"" }}</label></td>
        </tr>
        <tr>
            <th><label >Projects </label></th>
            <td>: <label >{{ candidate_obj.projects_link|default:"" }}</label></td>
        </tr>
        <tr>
            <th><label >(Months.Days) Notice Period</label></th>

            <td>: <label >{{ candidate_obj.notice_period|default:"" }}</label></td>
        </tr>
        <tr>
            <th><label >Resume </label></th>
            <td>: <a href="{% url 'file_view' candidate_obj.resume.url %}" target="_blank"><label >{{ candidate_obj.get_resume_name }}</label></a></td>
        </tr>
      </table>

      <center><input type="submit" name="edit_details" value="Edit Details"></center>
    {% endif %}


    <table class="table2" >

      <tr>
        <th>Sr.No</th>
        <th>Requition</th>
        <th>JD</th>
        <th>Referred By</th>
        <th>Status Of Candidate</th>
        <th>Expected DOJ</th>
        <th>Actual DOJ</th>
        <th></th>
      </tr>
      {% for obj in query_set %}
        {% if editable_req_id == obj.requisition_id.requisition_id %}
          {{ form_req_cand.non_field_errors }}
          {% for field in form_req_cand %}
            <p>{{ field.errors }}</p>
          {% endfor %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ form_req_cand.requisition_id }}</td>
            <td>{{ obj.requisition_id.jd }}</td>
            <td>{{ form_req_cand.referred_by }}</td>
            <td>{{ form_req_cand.candidate_status }}</td>
            <td>{{ form_req_cand.expected_doj }}</td>
            <td>{{ form_req_cand.actual_doj }}</td>
            <td><button type="submit" name="save_status" value="{{ obj.requisition_id.requisition_id }}">Save</button></td>
          </tr>
        {% else %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ obj.requisition_id.requisition_id}}</td>
          <td>{{ obj.requisition_id.jd }}</td>
          <td>{{ obj.referred_by }}</td>
          <td>{{ obj.candidate_status }}</td>
          <td>{{ obj.expected_doj }}</td>
          <td>{{ obj.actual_doj }}</td>
          <td><button type="submit" name="editable_req_id" value="{{ obj.requisition_id.requisition_id }}">Edit</button></td>
        </tr>
        {% endif %}
      {% endfor %}
    </table>

    
  </body>
</html>
